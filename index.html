<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Turma 1A IFRO ‚Äî Index</title>
  <link rel="icon" href="https://wiki.ifro.edu.br/media/img_empresa/logo-IFRO-horizontal_1_F3hUyPz.png">
  <style>
    /* --- CSS b√°sico (mant√©m estilo IFRO) --- */
    :root{
      --green:#00ff66;
      --bg-dark:#1a1a1a;
      --bg-light:#f5f5f5;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:Arial, Helvetica, sans-serif;background:var(--bg-dark);color:var(--green);transition:background .3s,color .3s}
    header{text-align:center;padding:22px;background:rgba(0,0,0,0.7);box-shadow:0 2px 10px var(--green)}
    .logo{width:160px;display:block;margin:0 auto 8px}
    h1{margin:6px 0;color:var(--green)}
    .btns{display:flex;gap:12px;justify-content:center;flex-wrap:wrap;margin-top:12px}
    button{background:var(--green);color:#000;border:none;padding:10px 14px;border-radius:8px;font-weight:700;cursor:pointer;box-shadow:0 4px 12px rgba(0,255,102,0.08)}
    section{padding:24px;text-align:center}
    #calendar{max-width:700px;margin:0 auto;background:rgba(0,0,0,0.18);padding:12px;border-radius:10px;box-shadow:0 0 12px rgba(0,255,102,0.06)}
    footer{background:#001900;color:#c8ffd0;padding:14px;text-align:center;position:relative}
    .light body, body.light { background: var(--bg-light); color: #113311; }
    .light footer, body.light footer { background: #ddd; color: #003300; }
    canvas#matrix{position:fixed;left:0;top:0;width:100%;height:100%;z-index:-1;pointer-events:none}
    @media(max-width:600px){ h1{font-size:1.2rem} button{width:90%;max-width:320px} }
  </style>
</head>
<body>
  <canvas id="matrix"></canvas>

  <header>
    <img class="logo" src="https://wiki.ifro.edu.br/media/img_empresa/logo-IFRO-horizontal_1_F3hUyPz.png" alt="IFRO logo">
    <h1>Turma 1¬∞A ‚Äî T√©cnico em Inform√°tica</h1>
    <div class="btns">
      <button id="btnHacker">üíª Modo Hacker</button>
      <button id="btnToggleTheme">üåó Modo Claro/Escuro</button>
    </div>
  </header>

  <section id="intro">
    <h2>Bem-vindo(a)!</h2>
    <p>Este √© o site da Turma 1¬∞A ‚Äî IFRO Ariquemes. Clique nos bot√µes para explorar o modo hacker e a galeria.</p>
  </section>

  <section id="calendarSec">
    <h2>üìÖ Calend√°rio da Turma</h2>
    <div id="calendar">Carregando calend√°rio...</div>
  </section>

  <section id="galeriaSec">
    <h2>üì∏ Nossas Mem√≥rias</h2>
    <p>Quer ver as fotos? Abra a galeria completa.</p>
    <button id="btnGaleria">Ver Galeria</button>
  </section>

  <footer>
    <div>Instituto Federal de Rond√¥nia ‚Äî Campus Ariquemes</div>
    <div style="margin-top:8px">Visitantes: <span id="visitCount">0</span></div>
  </footer>

  <!-- Script embutido: substitui script.js externo -->
  <script>
  // --- Seguran√ßa: checar IDs existentes ---
  function $(id){ return document.getElementById(id); }

  // --- Tema (carrega prefer√™ncia) ---
  (function(){
    const saved = localStorage.getItem('theme');
    if(saved === 'light') document.documentElement.classList.add('light'), document.body.classList.add('light');
  })();

  // --- Elementos ---
  const btnHacker = $('btnHacker');
  const btnToggleTheme = $('btnToggleTheme');
  const btnGaleria = $('btnGaleria');
  const visitCountEl = $('visitCount');
  const calendarEl = $('calendar');

  // --- A√ß√µes de bot√µes ---
  btnHacker.addEventListener('click', ()=> {
    // abre hacker.html (verifique que o arquivo no repo chama exatamente hacker.html)
    window.open('hacker.html', '_blank');
  });

  btnGaleria.addEventListener('click', ()=> {
    window.open('galeria.html', '_blank');
  });

  btnToggleTheme.addEventListener('click', ()=>{
    // alterna classes em documentElement e body para garantir override
    const isLight = document.documentElement.classList.toggle('light');
    document.body.classList.toggle('light', isLight);
    localStorage.setItem('theme', isLight ? 'light' : 'dark');
  });

  // --- Visit counter (1 por visitante) ---
  (function initVisit(){
    // total stored locally ‚Äî note: n√£o √© servidor; para demo localStorage √© ok
    let total = parseInt(localStorage.getItem('visitCountTotal') || '0', 10);
    if(!localStorage.getItem('visited_flag')) {
      total = total + 1;
      localStorage.setItem('visitCountTotal', String(total));
      localStorage.setItem('visited_flag', '1');
    }
    visitCountEl.textContent = String(total);
  })();

  // --- Calend√°rio interativo simples (mostra eventos do m√™s atual) ---
  const events = [
    { date: "2025-10-15", title: "Prova de Matem√°tica üìò" },
    { date: "2025-10-20", title: "Entrega de Projeto üíª" },
    { date: "2025-11-01", title: "Feriado - Todos os Santos üïäÔ∏è" },
    { date: "2025-11-10", title: "Reuni√£o de Grupo üë•" }
  ];

  function renderCalendar() {
    const now = new Date();
    const month = now.getMonth();
    const year = now.getFullYear();
    const header = now.toLocaleString('pt-BR', { month: 'long', year: 'numeric' });
    let html = '<h3 style="color:var(--green)">'+header+'</h3>';
    const monthEvents = events.filter(e=>{
      const d = new Date(e.date);
      return d.getMonth() === month && d.getFullYear() === year;
    });
    if(monthEvents.length === 0) {
      html += '<p>Nenhum evento marcado para este m√™s.</p>';
    } else {
      html += '<ul style="text-align:left;padding-left:18px">';
      monthEvents.forEach(e=>{
        const d = new Date(e.date);
        const day = String(d.getDate()).padStart(2,'0');
        const mon = String(d.getMonth()+1).padStart(2,'0');
        html += '<li><strong>'+day+'/'+mon+'/'+d.getFullYear()+'</strong> ‚Äî '+e.title+'</li>';
      });
      html += '</ul>';
    }
    calendarEl.innerHTML = html;
  }
  renderCalendar();

  // --- Efeito Matrix (canvas) ---
  (function matrix(){
    const c = document.getElementById('matrix');
    if(!c) return;
    const ctx = c.getContext('2d');
    let width = c.width = window.innerWidth;
    let height = c.height = window.innerHeight;
    const fontSize = 12;
    let columns = Math.floor(width / fontSize);
    let drops = Array(columns).fill(1);
    const letters = "01";
    function resize(){ width = c.width = window.innerWidth; height = c.height = window.innerHeight; columns = Math.floor(width / fontSize); drops = Array(columns).fill(1); }
    window.addEventListener('resize', resize);
    function draw(){
      ctx.fillStyle = 'rgba(0,0,0,0.06)';
      ctx.fillRect(0,0,width,height);
      ctx.fillStyle = '#00ff66';
      ctx.font = fontSize+'px monospace';
      for(let i=0;i<drops.length;i++){
        const text = letters.charAt(Math.floor(Math.random()*letters.length));
        ctx.fillText(text, i*fontSize, drops[i]*fontSize);
        if(drops[i]*fontSize > height && Math.random()>0.975) drops[i]=0;
        drops[i]++;
      }
    }
    setInterval(draw, 50);
  })();

  // --- Final: garantia para mobile caching / atualiza√ß√£o ---
  // Se quiser for√ßar recarregar sem cache no celular: pe√ßa para abrir URL e dar "recarregar" completo (pull-to-refresh)
  </script>
</body>
</html>